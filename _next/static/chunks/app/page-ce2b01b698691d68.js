(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5936:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>f});var a=t(5155),n=t(2115),s=t(2177);function o(e){return Math.max(0,Math.min(255,e))}function l(e){let{register:r,setValue:t,watch:l,formState:{errors:c}}=(0,s.mN)({defaultValues:{name:"#000000",r:255,g:255,b:255,a:0}}),d=l("name"),i=l("r"),u=l("g"),m=l("b"),f=(0,n.useRef)(!1),h=(0,n.useRef)(!1);(0,n.useEffect)(()=>{var r;if(null==(r=e.onColorChange)||r.call(e,d),h.current){h.current=!1;return}if(/^#?([a-f\d]{6})$/i.test(d)){let e=parseInt(d.startsWith("#")?d.slice(1):d,16);f.current=!0,t("r",e>>16&255),t("g",e>>8&255),t("b",255&e)}},[d]),(0,n.useEffect)(()=>{if(f.current){f.current=!1;return}let e=o(i),r=o(u),a=o(m),n=e=>e.toString(16).padStart(2,"0"),s="#".concat(n(e)).concat(n(r)).concat(n(a));s.toLowerCase()!==d.toLowerCase()&&(h.current=!0,t("name",s))},[i,u,m]);let g=e=>r=>{t(e,Math.max(0,Math.min(255,parseInt(r.target.value)||0)))};return(0,a.jsxs)("div",{className:"p-4 border rounded max-w-md space-y-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:e.text}),(0,a.jsx)("input",{type:"text",...r("name",{pattern:{value:/^#?([a-fA-F0-9]{6})$/,message:"Invalid hex color"}}),className:"border p-2 rounded w-full",placeholder:"#fffffff"}),c.name&&(0,a.jsx)("p",{className:"text-red-500 text-sm",children:c.name.message}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2",children:["r","g","b"].map(e=>(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:e.toUpperCase()}),(0,a.jsx)("input",{type:"number",value:"r"===e?i:"g"===e?u:m,onChange:g(e),className:"border p-2 rounded w-full",min:0,max:255})]},e))}),(0,a.jsx)("div",{hidden:e.isBackground,className:"w-full h-12 rounded mt-4 border",style:{backgroundColor:d}})]})}var c=t(5899);let d=(e,r,t)=>.2126*e+.7152*r+.0722*t,i=e=>{let r=0,t=0,a=0;return 7===e.length&&(r=parseInt(e.slice(1,3),16),t=parseInt(e.slice(3,5),16),a=parseInt(e.slice(5,7),16)),[r,t,a]},u=e=>"rgba(".concat(e.r,",").concat(e.g,",").concat(e.b,",").concat(e.a,")"),m=e=>"rgba(".concat(e.r,",").concat(e.g,",").concat(e.b,",").concat(e.a/225,")");function f(){let[e,r]=(0,n.useState)("#ffffff"),[t,s]=(0,n.useState)("#ffffff"),[o,f]=(0,n.useState)("#ffffff"),[h,g]=(0,n.useState)([]),x=(0,c.n)({mutationFn:async e=>{let r=await fetch("http://localhost:5051/Color/AlphaAdjustedColor",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});if(!r.ok)throw Error("Network response failed");g(await r.json())},onSuccess:e=>{console.log("Color adjusted:",e),alert("Color successfully adjusted")},onError:e=>{console.error("Error:",e),alert("Failed to adjust color")}});return(0,n.useEffect)(()=>{let[e,a,n]=i(t);128>=d(e,a,n)?r("white"):r("black")},[t]),(0,a.jsxs)("div",{className:"grid grid-rows-[1/4fr_1fr_20px] items-center justify-items-center min-h-screen p-8 pb-20 gap-16 sm:p-20 font-[family-name:var(--font-geist-sans)]",children:[(0,a.jsxs)("main",{className:"p-6 sm:p-12 flex flex-col gap-[32px] md:grid md:grid-cols-2",style:{backgroundColor:t,color:e},children:[(0,a.jsx)(l,{isBackground:!1,text:"Enter pure color",onColorChange:e=>{f(e)}}),(0,a.jsx)(l,{isBackground:!0,text:"Enter background color",onColorChange:e=>{s(e)}}),x.isPending?"Adding todo...":(0,a.jsxs)(a.Fragment,{children:[x.isError?(0,a.jsxs)("div",{children:["An error occurred: ",x.error.message]}):null,x.isSuccess?(0,a.jsx)("div",{children:"Fetched!"}):null,(0,a.jsx)("button",{className:"m-auto rounded-xl h-12 w-1/3 col-span-2 border-1",onClick:e=>{e.preventDefault();let r={foregroundColor:o,foregroundColorInputType:"hex",backgroundColor:t,backgroundColorInputType:"hex"};console.log(r),g(function(e,r){let t=[],a={v:i(e),name:e},n={v:i(r),name:r};console.log(n);let s={r:a.v[0],g:a.v[1],b:a.v[2],a:255,name:a.name},o={r:n.v[0],g:n.v[1],b:n.v[2],a:255,name:n.name};for(let e=1;e<=255;e++){let r=e/255,a=Math.round((s.r-o.r*(1-r))/r),n=Math.round((s.g-o.g*(1-r))/r),c=Math.round((s.b-o.b*(1-r))/r);if([a,n,c].every(e=>e>=0&&e<=255)){var l;let r={r:a,g:n,b:c,a:e,name:function(e,r,t,a){let n=e=>Math.max(0,Math.min(255,e)).toString(16).padStart(2,"0"),s=Math.round(255*Math.max(0,Math.min(1,a)));return"#".concat(n(e)).concat(n(r)).concat(n(t)).concat(n(s))}(a,n,c,e)};l=function(e,r){let t=e.a/255;return{r:Math.round(e.r*t+r.r*(1-t)),g:Math.round(e.g*t+r.g*(1-t)),b:Math.round(e.b*t+r.b*(1-t))}}(r,o),l.r===s.r&&l.g===s.g&&l.b===s.b&&t.push(r)}}return t}(r.foregroundColor,r.backgroundColor))},children:"Get colors"})]}),(0,a.jsxs)("div",{className:"grid col-span-2 grid-cols-2 content-center",children:[(0,a.jsx)("label",{className:"m-auto hidden sm:flex",children:"Original color"}),(0,a.jsx)("label",{className:"m-auto hidden sm:flex",children:"Filtered color"}),(0,a.jsx)("div",{className:"hidden rounded sm:flex p-6 flex-col gap-[32px] items-center",style:{backgroundColor:"white"===e?"black":"white"},children:null==h?void 0:h.map((e,r)=>(0,a.jsx)("div",{className:"rounded w-14 justify-center items-center h-14",style:{backgroundColor:m(e)},children:"."},r))}),(0,a.jsx)("div",{className:"grid p-2 col-span-2 sm:col-span-1 flex-col gap-[24px] items-center",style:{backgroundColor:t,color:e},children:null==h?void 0:h.map((e,r)=>(0,a.jsxs)("div",{className:"grid grid-cols-2 justify-center items-center h-14",children:[(0,a.jsx)("div",{className:"flex rounded ml-5 w-14 h-14",style:{backgroundColor:m(e)}}),(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("div",{className:"font-bold text-sm md:text-base w-auto",children:[" ",(0,a.jsx)("span",{className:"font-normal",children:"Hex:"}),"  #",e.name," "]}),(0,a.jsxs)("div",{className:"font-bold text-sm md:text-base w-auto",children:[" ",(0,a.jsx)("span",{className:"font-normal",children:"RGBA:"})," ",u(e)," "]})]})]},r))})]})]}),(0,a.jsx)("footer",{className:"row-start-3 flex gap-[24px] flex-wrap items-center justify-center"})]})}},9634:(e,r,t)=>{Promise.resolve().then(t.bind(t,5936))}},e=>{var r=r=>e(e.s=r);e.O(0,[144,439,441,684,358],()=>r(9634)),_N_E=e.O()}]);
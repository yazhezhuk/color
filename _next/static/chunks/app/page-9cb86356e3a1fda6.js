(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7954:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>f});var a=s(5155),t=s(2115),l=s(2177);function o(e){return Math.max(0,Math.min(255,e))}function n(e){let{register:r,setValue:s,watch:n,formState:{errors:c}}=(0,l.mN)({defaultValues:{name:"#000000",r:255,g:255,b:255,a:0}}),d=n("name"),i=n("r"),u=n("g"),m=n("b"),f=(0,t.useRef)(!1),x=(0,t.useRef)(!1);(0,t.useEffect)(()=>{var r;if(null==(r=e.onColorChange)||r.call(e,d),x.current){x.current=!1;return}if(/^#?([a-f\d]{6})$/i.test(d)){let e=parseInt(d.startsWith("#")?d.slice(1):d,16);f.current=!0,s("r",e>>16&255),s("g",e>>8&255),s("b",255&e)}},[d]),(0,t.useEffect)(()=>{if(f.current){f.current=!1;return}let e=o(i),r=o(u),a=o(m),t=e=>e.toString(16).padStart(2,"0"),l="#".concat(t(e)).concat(t(r)).concat(t(a));l.toLowerCase()!==d.toLowerCase()&&(x.current=!0,s("name",l))},[i,u,m]);let h=e=>r=>{s(e,Math.max(0,Math.min(255,parseInt(r.target.value)||0)))};return(0,a.jsxs)("div",{className:"p-4 border rounded max-w-md space-y-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:e.text}),(0,a.jsx)("input",{type:"text",...r("name",{pattern:{value:/^#?([a-fA-F0-9]{6})$/,message:"Invalid hex color"}}),className:"border p-2 rounded w-full",placeholder:"#fffffff"}),c.name&&(0,a.jsx)("p",{className:"text-red-500 text-sm",children:c.name.message}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2",children:["r","g","b"].map(e=>(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:e.toUpperCase()}),(0,a.jsx)("input",{type:"number",value:"r"===e?i:"g"===e?u:m,onChange:h(e),className:"border p-2 rounded w-full",min:0,max:255})]},e))}),(0,a.jsx)("div",{hidden:e.isBackground,className:"w-full h-12 rounded mt-4 border",style:{backgroundColor:d}})]})}var c=s(5899);let d=(e,r,s)=>.2126*e+.7152*r+.0722*s,i=e=>{let r=0,s=0,a=0;return 7===e.length&&(r=parseInt(e.slice(1,3),16),s=parseInt(e.slice(3,5),16),a=parseInt(e.slice(5,7),16)),[r,s,a]},u=e=>"rgba(".concat(e.r,",").concat(e.g,",").concat(e.b,",").concat(e.a,")"),m=e=>"rgba(".concat(e.r,",").concat(e.g,",").concat(e.b,",").concat(e.a/225,")");function f(){let[e,r]=(0,t.useState)("#ffffff"),[s,l]=(0,t.useState)("#ffffff"),[o,f]=(0,t.useState)("#ffffff"),[x,h]=(0,t.useState)([]),p=(0,c.n)({mutationFn:async e=>{let r=await fetch("http://localhost:5051/Color/AlphaAdjustedColor",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});if(!r.ok)throw Error("Network response failed");h(await r.json())},onSuccess:e=>{console.log("Color adjusted:",e),alert("Color successfully adjusted")},onError:e=>{console.error("Error:",e),alert("Failed to adjust color")}});return(0,t.useEffect)(()=>{let[e,a,t]=i(s);128>=d(e,a,t)?r("white"):r("black")},[s]),(0,a.jsxs)("div",{className:"grid grid-rows-[1/4fr_1fr_20px] items-center justify-items-center min-h-screen p-8 pb-20 gap-16 sm:p-20 font-[family-name:var(--font-geist-sans)]",children:[(0,a.jsxs)("main",{className:"p-6 sm:p-12 flex flex-col gap-[32px] md:grid md:grid-cols-2",style:{backgroundColor:s,color:e},children:[(0,a.jsx)(n,{isBackground:!1,text:"Enter pure color",onColorChange:e=>{f(e)}}),(0,a.jsx)(n,{isBackground:!0,text:"Enter background color",onColorChange:e=>{l(e)}}),p.isPending?"Adding todo...":(0,a.jsxs)(a.Fragment,{children:[p.isError?(0,a.jsxs)("div",{children:["An error occurred: ",p.error.message]}):null,p.isSuccess?(0,a.jsx)("div",{children:"Fetched!"}):null,(0,a.jsx)("button",{className:"m-auto rounded-xl h-12 w-1/3 col-span-2 border-1",onClick:e=>{e.preventDefault();let r={foregroundColor:o,foregroundColorInputType:"hex",backgroundColor:s,backgroundColorInputType:"hex"};console.log(r),p.mutate(r)},children:"Get colors"})]}),(0,a.jsxs)("div",{className:"grid col-span-2 grid-cols-2 content-center",children:[(0,a.jsx)("label",{className:"m-auto hidden sm:flex",children:"Original color"}),(0,a.jsx)("label",{className:"m-auto hidden sm:flex",children:"Filtered color"}),(0,a.jsx)("div",{className:"hidden rounded sm:flex p-6 flex-col gap-[32px] items-center",style:{backgroundColor:e?"white":"black"},children:null==x?void 0:x.map((e,r)=>(0,a.jsx)("div",{className:"rounded w-14 justify-center items-center h-14",style:{backgroundColor:m(e)},children:"."},r))}),(0,a.jsx)("div",{className:"grid p-2 col-span-2 sm:col-span-1 flex-col gap-[24px] items-center",style:{backgroundColor:s,color:e},children:null==x?void 0:x.map((e,r)=>(0,a.jsxs)("div",{className:"grid grid-cols-2 justify-center items-center h-14",children:[(0,a.jsx)("div",{className:"flex rounded ml-5 w-14 h-14",style:{backgroundColor:m(e)}}),(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("div",{className:"font-bold text-sm md:text-base w-auto",children:[" ",(0,a.jsx)("span",{className:"font-normal",children:"Hex:"}),"  #",e.name," "]}),(0,a.jsxs)("div",{className:"font-bold text-sm md:text-base w-auto",children:[" ",(0,a.jsx)("span",{className:"font-normal",children:"RGBA:"})," ",u(e)," "]})]})]},r))})]})]}),(0,a.jsx)("footer",{className:"row-start-3 flex gap-[24px] flex-wrap items-center justify-center"})]})}},9634:(e,r,s)=>{Promise.resolve().then(s.bind(s,7954))}},e=>{var r=r=>e(e.s=r);e.O(0,[144,439,441,684,358],()=>r(9634)),_N_E=e.O()}]);
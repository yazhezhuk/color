(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1079:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>b});var r=s(5155),n=s(2115);function o(t){let[e,s]=(0,n.useState)(255),[o,a]=(0,n.useState)(255),[i,l]=(0,n.useState)(255),[c,u]=(0,n.useState)("#ffffff");return(0,n.useEffect)(()=>{var e;if(7===c.length&&(null==(e=t.onColorChange)||e.call(t,c)),/^([a-f\d]{6})$/i.test(c)){let t=parseInt(c.startsWith("#")?c.slice(1):c,16);s(t>>16&255),a(t>>8&255),l(255&t)}},[c]),(0,r.jsxs)("div",{className:"p-4 border rounded max-w-md space-y-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium",children:t.text}),(0,r.jsxs)("div",{className:"relative w-fit",children:[(0,r.jsx)("span",{className:"absolute left-2 top-1/2 -translate-y-1/2  pointer-events-none select-none",children:"#"}),(0,r.jsx)("input",{type:"text",className:"w-full pl-4 py-1 border rounded outline-none",maxLength:7,placeholder:"fffffff",onChange:t=>{t.target.value=t.target.value.replace(/[^0-9a-fA-F]/g,"").toUpperCase().slice(0,6),u("#"+t.target.value)}})]}),(0,r.jsx)("div",{hidden:t.isBackground,className:"w-full h-12 rounded mt-4 border",style:{backgroundColor:c}})]})}var a=s(4560),i=s(7165),l=s(5910),c=s(2020),u=class extends l.Q{#t;#e=void 0;#s;#r;constructor(t,e){super(),this.#t=t,this.setOptions(e),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){let e=this.options;this.options=this.#t.defaultMutationOptions(t),(0,c.f8)(this.options,e)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),e?.mutationKey&&this.options.mutationKey&&(0,c.EN)(e.mutationKey)!==(0,c.EN)(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(t){this.#n(),this.#o(t)}getCurrentResult(){return this.#e}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#n(),this.#o()}mutate(t,e){return this.#r=e,this.#s?.removeObserver(this),this.#s=this.#t.getMutationCache().build(this.#t,this.options),this.#s.addObserver(this),this.#s.execute(t)}#n(){let t=this.#s?.state??(0,a.$)();this.#e={...t,isPending:"pending"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset}}#o(t){i.jG.batch(()=>{if(this.#r&&this.hasListeners()){let e=this.#e.variables,s=this.#e.context;t?.type==="success"?(this.#r.onSuccess?.(t.data,e,s),this.#r.onSettled?.(t.data,null,e,s)):t?.type==="error"&&(this.#r.onError?.(t.error,e,s),this.#r.onSettled?.(void 0,t.error,e,s))}this.listeners.forEach(t=>{t(this.#e)})})}},d=s(6715);function h(){}let f=(t,e,s)=>.2126*t+.7152*e+.0722*s,m=t=>{let e=0,s=0,r=0;return 7===t.length&&(e=parseInt(t.slice(1,3),16),s=parseInt(t.slice(3,5),16),r=parseInt(t.slice(5,7),16)),[e,s,r]},p=t=>"rgba(".concat(t.r,",").concat(t.g,",").concat(t.b,",").concat(t.a,")"),g=t=>"rgba(".concat(t.r,",").concat(t.g,",").concat(t.b,",").concat(t.a/225,")");function b(){let[t,e]=(0,n.useState)("#ffffff"),[s,a]=(0,n.useState)("#ffffff"),[l,c]=(0,n.useState)("#ffffff"),[b,x]=(0,n.useState)([]),v=function(t,e){var s,r;let o=(0,d.jE)(void 0),[a]=n.useState(()=>new u(o,t));n.useEffect(()=>{a.setOptions(t)},[a,t]);let l=n.useSyncExternalStore(n.useCallback(t=>a.subscribe(i.jG.batchCalls(t)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),c=n.useCallback((t,e)=>{a.mutate(t,e).catch(h)},[a]);if(l.error&&(s=a.options.throwOnError,r=[l.error],"function"==typeof s?s(...r):!!s))throw l.error;return{...l,mutate:c,mutateAsync:l.mutate}}({mutationFn:async t=>{let e=await fetch("http://localhost:5051/Color/AlphaAdjustedColor",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Network response failed");x(await e.json())},onSuccess:t=>{console.log("Color adjusted:",t),alert("Color successfully adjusted")},onError:t=>{console.error("Error:",t),alert("Failed to adjust color")}});return(0,n.useEffect)(()=>{let[t,r,n]=m(s);128>=f(t,r,n)?e("white"):e("black")},[s]),(0,r.jsxs)("div",{className:"grid grid-rows-[1/4fr_1fr_20px] items-center justify-items-center min-h-screen p-8 pb-20 gap-16 sm:p-20 font-[family-name:var(--font-geist-sans)]",children:[(0,r.jsxs)("main",{className:"p-6 sm:p-12 flex flex-col gap-[32px] md:grid md:grid-cols-2",style:{backgroundColor:s,color:t},children:[(0,r.jsx)(o,{isBackground:!1,text:"Enter pure color",onColorChange:t=>{c(t)}}),(0,r.jsx)(o,{isBackground:!0,text:"Enter background color",onColorChange:t=>{a(t)}}),v.isPending?"Adding todo...":(0,r.jsxs)(r.Fragment,{children:[v.isError?(0,r.jsxs)("div",{children:["An error occurred: ",v.error.message]}):null,v.isSuccess?(0,r.jsx)("div",{children:"Fetched!"}):null,(0,r.jsx)("button",{className:"m-auto rounded-xl h-12 w-1/3 col-span-2 border-1",onClick:t=>{t.preventDefault();let e={foregroundColor:l,foregroundColorInputType:"hex",backgroundColor:s,backgroundColorInputType:"hex"};console.log(e),x(function(t,e){let s=[],r={v:m(t),name:t},n={v:m(e),name:e};console.log(n);let o={r:r.v[0],g:r.v[1],b:r.v[2],a:255,name:r.name},a={r:n.v[0],g:n.v[1],b:n.v[2],a:255,name:n.name};for(let t=1;t<=255;t++){let e=t/255,r=Math.round((o.r-a.r*(1-e))/e),n=Math.round((o.g-a.g*(1-e))/e),l=Math.round((o.b-a.b*(1-e))/e);if([r,n,l].every(t=>t>=0&&t<=255)){var i;let e={r,g:n,b:l,a:t,name:function(t,e,s,r){let n=t=>Math.max(0,Math.min(255,t)).toString(16).padStart(2,"0");return"#".concat(n(t)).concat(n(e)).concat(n(s)).concat(n(r))}(r,n,l,t)};i=function(t,e){let s=t.a/255;return{r:Math.round(t.r*s+e.r*(1-s)),g:Math.round(t.g*s+e.g*(1-s)),b:Math.round(t.b*s+e.b*(1-s))}}(e,a),i.r===o.r&&i.g===o.g&&i.b===o.b&&s.push(e)}}return s}(e.foregroundColor,e.backgroundColor))},children:"Get colors"})]}),(0,r.jsxs)("div",{className:"grid col-span-2 grid-cols-2 content-center",children:[(0,r.jsx)("label",{className:"m-auto hidden sm:flex",children:"Original color"}),(0,r.jsx)("label",{className:"m-auto hidden sm:flex",children:"Filtered color"}),(0,r.jsx)("div",{className:"hidden rounded sm:flex p-6 flex-col gap-[32px] items-center",style:{backgroundColor:"black"===t?"black":"white"},children:null==b?void 0:b.map((t,e)=>(0,r.jsx)("div",{className:"rounded w-14 justify-center items-center h-14",style:{backgroundColor:g(t)},children:"."},e))}),(0,r.jsx)("div",{className:"grid p-2 col-span-2 sm:col-span-1 flex-col gap-[24px] items-center",style:{backgroundColor:s,color:t},children:null==b?void 0:b.map((t,e)=>(0,r.jsxs)("div",{className:"grid grid-cols-2 justify-center items-center h-14",children:[(0,r.jsx)("div",{className:"flex rounded ml-5 w-14 h-14",style:{backgroundColor:g(t)}}),(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("div",{className:"font-bold text-sm md:text-base w-auto",children:[" ",(0,r.jsx)("span",{className:"font-normal",children:"Hex:"}),"  ",t.name," "]}),(0,r.jsxs)("div",{className:"font-bold text-sm md:text-base w-auto",children:[" ",(0,r.jsx)("span",{className:"font-normal",children:"RGBA:"})," ",p(t)," "]})]})]},e))})]})]}),(0,r.jsx)("footer",{className:"row-start-3 flex gap-[24px] flex-wrap items-center justify-center"})]})}},9634:(t,e,s)=>{Promise.resolve().then(s.bind(s,1079))}},t=>{var e=e=>t(t.s=e);t.O(0,[144,441,684,358],()=>e(9634)),_N_E=t.O()}]);